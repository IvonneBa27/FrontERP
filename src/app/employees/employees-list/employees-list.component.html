<loading *ngIf="isLoading">{{ isLoading }}</loading>

<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-3">
                        <input class="form-control" type="search" name="" id="" placeholder="No. Empleado, nombre, curp" [(ngModel)]="paramSerach">
                    </div>
                    <div class="col-3 search-div">
                        <select class="form-control" name="" id="" [(ngModel)]="company">
                            <option value="0">Empresa pago de nomina</option>
                            <option [value]="company.id" *ngFor="let company of companies"> {{ company.nombre }}</option>
                        </select>
                    </div>
                    <div class="col-3 search-div">
                        <select class="form-control" name="" id="" [(ngModel)]="status">
                            <option value="0">Todos</option>
                            <option value="1">Activo</option>
                            <option value="2">Inactivo</option>
                        </select>
                        <button type="submit" class="btn btn-primary search-employees" (click)="serachEmployees()"><i
                                class="mdi mdi-account-search"></i> </button>
                    </div>
                    <div class="col-3">
                        <h4 class="card-title" style="text-align: end;"><a [routerLink]="['/dashboard/empleyee-create']" class="btn btn-primary"><i
                                    class="mdi mdi-plus"></i> Crear empleado</a></h4>
                    </div>
                    <div class="col-12">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>No. Empleado</th>
                                        <th>Nombre completo</th>
                                        <th>CURP</th>
                                        <th>Género</th>
                                        <th>Empresa</th>
                                        <th>Ejecución administrativa</th>
                                        <th>Acción</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let employee of employees | paginate: { itemsPerPage: numPag, currentPage: p }">
                                        <td>{{ employee.numero_empleado }}</td>
                                        <td>{{ employee.nombre_completo }}</td>
                                        <td>{{ employee.curp }}</td>
                                        <td>{{ employee.gender?.nombre }}</td>
                                        <td>{{ employee.company?.nombre }}</td>
                                        <td>{{ employee.administrative_execution?.nombre }}</td>
                                        <td class="actions">
                                            <a class="link-options" (click)="showEmployee(employee)"><i class="mdi mdi-eye"></i></a>
                                            <a class="link-options" (click)="editEmployee(employee)" ><i class="mdi mdi-pencil"></i></a>
                                            <a class="link-options" (click)="deleteEmployee(employee.id)"><i class="mdi mdi-delete"></i></a>
                                        </td>
                                    </tr>





                                </tbody>
                            </table>
                            <span class="registros">Total de registros: {{ totalReg }}</span>
                            <pagination-controls [maxSize]="maxSize" [directionLinks]="directionLinks"
                                [autoHide]="autoHide" [responsive]="responsive" previousLabel="Anterior"
                                nextLabel="Siguiente" (pageChange)="p = $event"
                                style="text-align: center;"></pagination-controls>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>